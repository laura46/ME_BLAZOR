@using CVWebsite.Data.Models;
@inject IJSRuntime JSRuntime;


@foreach (Badge badge in badges)
{
    <div class="badge-container" @onclick="OpenBadgeLink(badge.Link)">
        <HeaderComponent Content="@badge.Title" Type="HeaderComponent.HEADER_TYPES.SMALL"></HeaderComponent>
        @((MarkupString)badge.Html)
    </div>
}


@code {
    List<Badge> badges = new List<Badge>();
    [Parameter]
    public Badge.CATEGORY requestedCategory { get; set; }
    protected override void OnInitialized()
    {
        Badge getBadges = new Badge();
        badges = getBadges.GetBadges(requestedCategory);
    }
    public EventCallback OpenBadgeLink(string link) {
        JSRuntime.InvokeAsync<object>("open", link, "_blank");
        return new EventCallback();
    }
}
